t1=0:1/(2*pi*5):3; 
x=5*sin(t1)+4.*cos(t1).*cos(t1); %unsampled signal
t=0:0.01:3; %sampled at rate 0.01
sampled_x=5*sin(t)+4.*cos(t).*cos(t);
figure
plot(t1,x)
hold on
stem(t,sampled_x)

intervals=[4.09765625:0.09765625 :5.5625]; %15 intervals
levels=[4:0.09765625:5.5625]; 
%16 levels using max and min of sampled signal
%a 16 level quantizer will have 15 intervals hence the same has been
%defined above
[mat,q_sig] = quantiz(sampled_x,intervals,levels); 
% q_sig is the quantised signal, the levels are stored in mat
%mat is a 1x301 matrix
plot(t,q_sig,'g',"linewidth",1.5) %quantized signal
title("signal/sampled signal/quantized signal")
legend("signal","sampled signal","quantized signal")


bitmatrix=dec2bin(mat) %convert each level to bits
%301x4 char matrix

%converting bitmatrix into bitstream
len=size(mat);
bitstream="";
for i=1:len(2)
    bitstream=bitstream+dec2bin(mat(i),4); 
    %convert each level into 4 digit binary
end

bitstream

l=strlength(bitstream);
number_of_bits=l
bitstream = convertStringsToChars(bitstream);
bitstream=bitstream(1:20);
matrixbit=[]; %convert bitstream from string to matrix
for i=1:20  %taking first 20 values to create matrix
    matrixbit=[matrixbit str2num(bitstream(i))];
end 
for j=1:20 %to implement polar nrz coding
    if(matrixbit(j)==0)
        matrixbit(j)=-1;
    end
end
figure
stairs(matrixbit)
ylim([-2 2])
title("polar nrz")

%{ 
bitstream obtained (in case output clips in the pdf):
00000000000100010001001000100011001101000100010101010101011001100
11101110111100010001000100110011001101010101010101110111011101111
00110011001100110011011101110111011101111011101110111011101110111
01111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111011101110111011101110111011
10111011101110110111011101110111011101110111011101110111001100110
01100110011001100110011001100110010111011101110111011101110111011
10111011101110111011101010101010101010101010101010101010101010101
01010101010101010101010101010101010101010101010101010101010101010
10101010101010101010101010101010101010101010101010101010101010101
01010101110111011101110111011101110111011101110111011101111001100
11001100110011001100110011001100110011011101110111011101110111011
10111011101111011101110111011101110111011101110111011101111111111
11111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111101110111011101110111011101101110111011
10111011100110011001100110010111011101110111010101010101001100110
0110001000100001110111011101100110
%}








        